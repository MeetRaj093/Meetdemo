jQuery(function(p){if("undefined"==typeof wcv_country_select_params)return!1;p().select2&&((t=function(){p("select.country_select:visible, select.state_select:visible").each(function(){p(this).select2({placeholderOption:"first",width:"100%"})})})(),p(document.body).bind("country_to_state_changed",function(){t()}));var t,e=wcv_country_select_params.countries.replace(/&quot;/g,'"'),u=p.parseJSON(e);p(document.body).on("change","select.country_to_state",function(){var t=p(this).closest(".wcv_shipping_rates"),e=p(this).val().replace(/country:/g,""),c=p(this).parent().next(),n=c.find(".shipping_state"),s=n.attr("name"),o=n.val(),a=n.attr("placeholder")||"";if(u[e]){var r,i="",l=u[e];for(r in l)l.hasOwnProperty(r)&&(i=i+'<option value="'+r+'">'+l[r]+"</option>");var _=p('<select name="'+s+'" class="state_select shipping_state" placeholder="'+a+'"><option value="">'+wcv_country_select_params.i18n_select_state_text+"</option>"+i+"</select>");c.html(_),_.val(o).change(),p(document.body).trigger("country_to_state_changed",[e,t])}else n.is("select")&&(_=p('<input type="text" class="shipping_state" name="'+s+'" placeholder="'+a+'" />'),c.html(_),p(document.body).trigger("country_to_state_changed",[e,t]));p(document.body).trigger("country_to_state_changing",[e,t])}),p(".country_to_state").change(),p(".country_select").select2({width:"100%",placeholderOption:"first"})});